{"version":3,"sources":["webpack:///D:/www/uniapp/uniWaiMai/components/upimgbox.vue?1107","webpack:///D:/www/uniapp/uniWaiMai/components/upimgbox.vue?32a3","webpack:///D:/www/uniapp/uniWaiMai/components/upimgbox.vue?daa6","webpack:///D:/www/uniapp/uniWaiMai/components/upimgbox.vue?faef","webpack:///D:/www/uniapp/uniWaiMai/components/upimgbox.vue"],"names":["app","require","name","props","defaultImgsList","defaultImgsData","data","imgsData","imgsList","methods","upImg","that","uni","chooseImage","success","chooseImageRes","tempFilePaths","len","length","i","uploadFile","url","apiHost","getAuthCode","filePath","dataType","res","error","rs","JSON","parse","json","imgurl","trueimgurl","json_add","undefined","delImg","index","imgslist","Array","mgs","push","console","log"],"mappings":"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","file":"components/upimgbox.js","sourcesContent":["import { render, staticRenderFns } from \"./upimgbox.vue?vue&type=template&id=4cf67c0a&\"\nimport script from \"./upimgbox.vue?vue&type=script&lang=js&\"\nexport * from \"./upimgbox.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../program/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('4cf67c0a', component.options)\n    } else {\n      api.reload('4cf67c0a', component.options)\n    }\n    module.hot.accept(\"./upimgbox.vue?vue&type=template&id=4cf67c0a&\", function () {\n      api.rerender('4cf67c0a', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"www/uniapp/uniWaiMai/components/upimgbox.vue\"\nexport default component.exports","export * from \"-!../../../../program/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../program/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./upimgbox.vue?vue&type=template&id=4cf67c0a&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../program/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../program/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./upimgbox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../program/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../program/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./upimgbox.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nvar app = require(\"../common/common.js\"); \nexport default {\n\tname:\"upimg-box\",\n\tprops:{\n\t\tdefaultImgsList:{}, \n\t\tdefaultImgsData:{},\n\t},\n\tdata:function(){\n\t\treturn {\n\t\t\timgsData:this.defaultImgsData,\n\t\t\timgsList:this.defaultImgsList,\n\t\t}\n\t},\n\tmethods:{\n\t\tupImg:function(){\n\t\t\tvar that=this;\n\t\t\t\n\t\t\tuni.chooseImage({\n\t\t\t\tsuccess: function (chooseImageRes) {\n\t\t\t\t\tconst tempFilePaths = chooseImageRes.tempFilePaths;\n\t\t\t\t\tconst len=tempFilePaths.length;\n\t\t\t\t\tfor(var i=0;i<len;i++){\n\t\t\t\t\t\tuni.uploadFile({\n\t\t\t\t\t\t\turl: app.apiHost+'/index.php?m=upload&a=img&ajax=1&authcode='+app.getAuthCode(), //仅为示例，非真实的接口地址\n\t\t\t\t\t\t\tfilePath: tempFilePaths[i],\n\t\t\t\t\t\t\tname: 'upimg',\n\t\t\t\t\t\t\tdataType:\"json\",\n\t\t\t\t\t\t\tsuccess: function (res) {\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tif(!res.data.error){\n\t\t\t\t\t\t\t\t\tvar rs=JSON.parse(res.data);\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tvar json=[{\n\t\t\t\t\t\t\t\t\t\timgurl:rs.data.imgurl,\n\t\t\t\t\t\t\t\t\t\ttrueimgurl:rs.data.trueimgurl\n\t\t\t\t\t\t\t\t\t}];\n\t\t\t\t\t\t\t\t\tthat.imgsList=app.json_add(that.imgsList,json);\n\t\t\t\t\t\t\t\t\tif(that.imgsData==\"\" || that.imgsData==undefined ){\n\t\t\t\t\t\t\t\t\t\tthat.imgsData=rs.data.imgurl;\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\tthat.imgsData=that.imgsData+\",\"+rs.data.imgurl;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tdelImg:function(index){\n\t\t\tvar len=this.imgsList.length;\n\t\t\tvar imgslist=new Array();\n\t\t\tvar imgsData=\"\";\n\t\t\tvar mgs=this.imgsList;\n\t\t\tfor(var i in mgs){\n\t\t\t\tif(i!=index){\n\t\t\t\t\timgslist.push(mgs[i]);\t\t\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor(var i=0;i<imgslist.length;i++){\n\t\t\t\tif(i>0){\n\t\t\t\t\timgsData+=\",\";\n\t\t\t\t}\n\t\t\t\timgsData+=imgslist[i].imgurl;\n\t\t\t}\n\t\t\tconsole.log(imgsData);\n\t\t\tthis.imgsData=imgsData;\n\t\t\tthis.imgsList=imgslist;\n\t\t\t\n\t\t}\n\t}\n}\n"],"sourceRoot":""}