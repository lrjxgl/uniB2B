(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pageb2b/b2b/index"],{"3e73":function(t,i,s){"use strict";var e=s("4514"),o=s.n(e);o.a},4514:function(t,i,s){},"62b7":function(t,i,s){"use strict";s.r(i);var e=s("c1b1"),o=s.n(e);for(var a in e)"default"!==a&&function(t){s.d(i,t,function(){return e[t]})}(a);i["default"]=o.a},"7c89":function(t,i,s){"use strict";var e=function(){var t=this,i=t.$createElement;t._self._c;t._isMounted||(t.e0=function(i){t.zhpxBoxClass=""},t.e1=function(i){t.choiceBoxClass=""})},o=[];s.d(i,"a",function(){return e}),s.d(i,"b",function(){return o})},c1b1:function(t,i,s){"use strict";(function(t,e){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var o,a,c=function(){return s.e("components/b2bfooter").then(s.bind(null,"0c52"))},r=function(){return Promise.all([s.e("common/vendor"),s.e("components/skyraty")]).then(s.bind(null,"0844"))},n=function(){return s.e("components/shop-item").then(s.bind(null,"a586"))},h={components:{b2bFooter:c,skyRaty:r,shopItem:n},data:function(){return{localAddress:"厦门瑞景商业广场",pageData:{},keyword:"",pageLoad:!1,shopList:{},orderLabel:"综合排序",sortNavBoxFix:"",zhpxBoxClass:"",orderTab:"zhpx",choiceBoxClass:"",orderby:"",orderList:"",isFirst:!0,per_page:0,choiceClass:[],filterList:[],priceList:[],priceItem:"",discList:[],discItem:""}},onLoad:function(i){this.localAddress=this.app.getLocalAddress(),o=t.createSelectorQuery().in(this),this.getPage(),this.getList(),this.getFilter()},onPageScroll:function(t){t.scrollTop>=a?""==this.sortNavBoxFix&&(this.sortNavBoxFix="sortNavBoxFix"):"sortNavBoxFix"==this.sortNavBoxFix&&(this.sortNavBoxFix="")},onReachBottom:function(){this.getList()},methods:{choiceFinish:function(){this.isFirst=!0,this.per_page=0,this.choiceBoxClass="",this.getList()},choiceClear:function(){var t=this,i=this.choiceClass;for(var s in i)i[s]="";this.choiceClass={},setTimeout(function(){t.choiceClass=i},30),t.discItem="",t.priceItem=""},setDisc:function(t){this.discItem==t?this.discItem="":this.discItem=t},setPrice:function(t){this.priceItem==t?this.priceItem="":this.priceItem=t},checkChoice:function(t){var i=this,s=this.choiceClass;""==s[t]?s[t]="choice-item-active":s[t]="",this.choiceClass={},setTimeout(function(){i.choiceClass=s},30)},setOrder:function(t,i){this.zhpxBoxClass="",this.orderLabel=t,this.orderTab="zhpx",this.orderby=i,this.per_page=0,this.isFirst=!0,this.getList()},setOrderTab:function(i){this.orderTab=i,this.orderby=i,this.zhpxBoxClass="",this.per_page=0,this.isFirst=!0,"choice"==i?""==this.choiceBoxClass?(this.choiceBoxClass="block",t.pageScrollTo({scrollTop:a})):this.choiceBoxClass="":(this.choiceBoxClass="",this.getList())},toggleOrder:function(){this.choiceBoxClass="",""==this.zhpxBoxClass?(this.zhpxBoxClass="block",t.pageScrollTo({scrollTop:a})):this.zhpxBoxClass=""},goAddr:function(){t.navigateTo({url:"../../pageb2b/b2b_addr/index"})},search:function(){t.navigateTo({url:"../../pageb2b/b2b_search/index?keyword="+encodeURI(this.keyword)})},goShop:function(i){t.navigateTo({url:"../../pageb2b/b2b_shop/index?shopid="+i})},goProduct:function(i){t.navigateTo({url:"../../pageb2b/b2b_product/show?id="+i})},gourl:function(i){t.navigateTo({url:i})},getPage:function(){var t=this.app.getGps(),i=this;i.app.get({url:this.app.apiHost+"/module.php?m=b2b&ajax=1",data:{lat:t.lat,lng:t.lng},success:function(t){i.pageData=t.data,i.pageLoad=!0,setTimeout(function(){o.select("#sortNavBox").boundingClientRect(function(t){a=t.top,console.log(e(a," at pageb2b\\b2b\\index.vue:335"))}).exec()},300)}})},getFilter:function(){var t=this;t.app.get({url:t.app.apiHost+"/module.php?m=b2b_shoplist&a=Filter&ajax=1",success:function(i){for(var s in t.orderList=i.data.orderList,t.discList=i.data.discList,t.filterList=i.data.filterList,t.priceList=i.data.priceList,t.choiceClass=Array(),t.filterList)t.choiceClass[s]=""}})},getList:function(){var t=this,i=this.app.getGps();if(0==t.per_page&&!t.isFirst)return!1;var s="";for(var e in t.choiceClass)""!=t.choiceClass[e]&&(""!=s&&(s+=","),s+=e);t.app.get({url:t.app.apiHost+"/module.php?m=b2b_shoplist&a=list&ajax=1",data:{discount:t.discItem,price:t.priceItem,choice:s,orderby:t.orderby,lat:i.lat,lng:i.lng},dataType:"json",success:function(i){if(t.per_page=i.data.per_page,t.isFirst)t.isFirst=!1,t.shopList=i.data.shopList;else{var s=t.shopList;for(var e in i.data.shopList)s.push(i.data.shopList[e]);t.shopList=s}}})}}};i.default=h}).call(this,s("6e42")["default"],s("0de9")["default"])},c2f3:function(t,i,s){"use strict";s.r(i);var e=s("7c89"),o=s("62b7");for(var a in o)"default"!==a&&function(t){s.d(i,t,function(){return o[t]})}(a);s("3e73");var c=s("2877"),r=Object(c["a"])(o["default"],e["a"],e["b"],!1,null,null,null);i["default"]=r.exports}},[["f8c7","common/runtime","common/vendor"]]]);