(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pageb2b/b2b_product/show"],{"31bc":function(a,t,o){"use strict";var d=function(){var a=this,t=a.$createElement;a._self._c},e=[];o.d(t,"a",function(){return d}),o.d(t,"b",function(){return e})},"8da9":function(a,t,o){"use strict";(function(a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d=0,e=function(){return Promise.all([o.e("common/vendor"),o.e("components/skyraty")]).then(o.bind(null,"0844"))},s={components:{skyRaty:e},data:function(){return{pageData:{},pageLoad:!1,ksid:0,ksid1:0,ksList:[],ksList2:[],price:0,cart_amount:0}},onLoad:function(a){this.getPage(a.id)},methods:{goGuest:function(t,o){a.navigateTo({url:"../b2b_guest/user?shopid="+o+"&id="+t})},goShop:function(t){a.navigateTo({url:"../b2b_shop/index?shopid="+t})},getPage:function(t){var o=this;a.request({url:o.app.apiHost+"/module.php?m=b2b_product&a=show&ajax=1&id="+t,data:{authcode:o.app.getAuthCode()},success:function(a){var t=a.data;o.pageLoad=!0,o.pageData=t.data,d=t.data.shop.shopid,o.ksList=t.data.ksList,o.ksList2=t.data.ksList2,o.ksid=t.data.ksid,o.ksid1=t.data.ksid,o.price=t.data.data.price,o.cart_amount=t.data.cart_amount}})},dMinus:function(){this.cart_amount>1&&this.cart_amount--},dPlus:function(){this.cart_amount++},ks1:function(t){var o=this;a.request({url:o.app.apiHost+"/module.php?m=b2b_product_ks&a=sizeList&ajax=1&id="+t,dataType:"json",data:{authcode:o.app.getAuthCode()},success:function(a){var t=a.data;o.ksid1=t.data.ksid,o.ksid=t.data.ksid,o.ksproduct=t.data.product,o.price=t.data.ks.price,o.cart_amount=t.data.product.cart_amount,o.ksList2=t.data.ksList2}})},ks2:function(t){var o=this;o.ksid=t,a.request({url:o.app.apiHost+"/module.php?m=b2b_product_ks&a=get&ajax=1&id="+t,dataType:"json",data:{authcode:o.app.getAuthCode()},success:function(a){var t=a.data;o.ksproduct=t.data.product,o.price=t.data.ks.price,o.cart_amount=t.data.product.cart_amount}})},addCart:function(){var t=this,o=t.ksid;a.request({url:t.app.apiHost+"/module.php?m=b2b_cart&a=add&ajax=1",data:{productid:t.pageData.data.id,amount:t.cart_amount,ksid:o,shopid:d,authcode:t.app.getAuthCode()},method:"GET",dataType:"json",success:function(t){var o=t.data;if(o.error)return a.showToast({title:o.message}),!1;a.showToast({title:"加入成功"})}})},goBuy:function(){var t=this,o=t.ksid;a.request({url:t.app.apiHost+"/module.php?m=b2b_cart&a=add&ajax=1",data:{productid:t.pageData.data.id,amount:t.cart_amount,ksid:o,shopid:d,authcode:t.app.getAuthCode()},method:"GET",dataType:"json",success:function(o){var d=o.data;return 1e3==d.error?(a.navigateTo({url:"../login/index"}),!1):"delete"!=d.data.action&&void a.navigateTo({url:"../b2b_order/confirm?cartid="+d.data.cartid+"&shopid="+t.pageData.shop.shopid})}})}}};t.default=s}).call(this,o("6e42")["default"])},9555:function(a,t,o){"use strict";o.r(t);var d=o("8da9"),e=o.n(d);for(var s in d)"default"!==s&&function(a){o.d(t,a,function(){return d[a]})}(s);t["default"]=e.a},b25e:function(a,t,o){"use strict";o.r(t);var d=o("31bc"),e=o("9555");for(var s in e)"default"!==s&&function(a){o.d(t,a,function(){return e[a]})}(s);o("cc48");var u=o("2877"),i=Object(u["a"])(e["default"],d["a"],d["b"],!1,null,null,null);t["default"]=i.exports},cb62:function(a,t,o){},cc48:function(a,t,o){"use strict";var d=o("cb62"),e=o.n(d);e.a}},[["702a","common/runtime","common/vendor"]]]);