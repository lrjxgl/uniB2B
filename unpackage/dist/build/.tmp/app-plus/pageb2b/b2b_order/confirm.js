(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pageb2b/b2b_order/confirm"],{"0401":function(a,e,t){"use strict";(function(a,o){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=d(t("5360"));function d(a){return a&&a.__esModule?a:{default:a}}var i={data:function(){return{pageLoad:!1,pageData:[],user_address_id:0,coupon_id:0,shopid:0,cartid:0,pageHide:!1,paytype:"alipay"}},onLoad:function(e){console.log(a(e," at pageb2b\\b2b_order\\confirm.vue:116")),this.cartid=e.cartid,this.shopid=e.shopid,this.getPage()},onHide:function(){this.pageHide=!0},onShow:function(){this.pageHide&&(this.pageHide=!1,this.getPage())},methods:{goShop:function(a){o.navigateTo({url:"../b2b_shop/index?shopid="+a})},changeAddr:function(a){this.pageData.user_address_id=a.detail.value;var e=this;e.app.get({url:e.app.apiHost+"/module.php?m=b2b_order&a=confirm&ajax=1",data:{shopid:e.shopid,user_address_id:this.pageData.user_address_id},success:function(a){e.pageData=a.data}})},changePaytype:function(a){this.paytype=a},setCoupon:function(a){this.coupon_id=a},getPage:function(){var a=this;a.app.get({url:a.app.apiHost+"/module.php?m=b2b_order&a=confirm&ajax=1",data:{shopid:this.shopid,cartid:a.cartid},success:function(e){if(e.error)return o.showToast({title:e.message}),o.navigateBack(),!1;a.paytype=e.data.paytype,a.pageLoad=!0,a.pageData=e.data}})},formSubmit:function(a){var e=this;a.detail.value.backurl=e.app.appRoot+"#/pages/b2b_order/success",o.request({url:e.app.apiHost+"/module.php?m=b2b_order&a=order&ajax=1&authcode="+e.app.getAuthCode(),data:a.detail.value,method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},success:function(a){if(a.data.error)return o.showToast({title:a.data.message}),!1;"pay"==a.data.data.action&&(r.default.paytype=e.paytype,r.default.urlFail="../b2b_order/fail",r.default.urlSuccess="../b2b_order/success",r.default.pay({payurl:a.data.data.payurl,orderno:a.data.data.orderno}))}})}}};e.default=i}).call(this,t("0de9")["default"],t("6e42")["default"])},2696:function(a,e,t){"use strict";t.r(e);var o=t("4f1b"),r=t("74eb");for(var d in r)"default"!==d&&function(a){t.d(e,a,function(){return r[a]})}(d);var i=t("2877"),n=Object(i["a"])(r["default"],o["a"],o["b"],!1,null,null,null);e["default"]=n.exports},"4f1b":function(a,e,t){"use strict";var o=function(){var a=this,e=a.$createElement;a._self._c},r=[];t.d(e,"a",function(){return o}),t.d(e,"b",function(){return r})},"74eb":function(a,e,t){"use strict";t.r(e);var o=t("0401"),r=t.n(o);for(var d in o)"default"!==d&&function(a){t.d(e,a,function(){return o[a]})}(d);e["default"]=r.a}},[["0793","common/runtime","common/vendor"]]]);