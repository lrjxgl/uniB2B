(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["b2b-b2b_shop-index"],{"06df":function(t,a,s){"use strict";var i;s.d(a,"b",(function(){return e})),s.d(a,"c",(function(){return o})),s.d(a,"a",(function(){return i}));var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("v-uni-view",[s("div",{staticClass:"row-box"},[s("div",{staticClass:"row-item-text "},[s("div",{staticClass:"row-item-icon icon-location_light"}),s("div",{staticClass:"cl2 mgr-5"},[t._v("地址：")]),s("div",{staticClass:"flex-1"},[t._v(t._s(t.shop.address))])]),s("div",{staticClass:"row-item-text "},[s("div",{staticClass:"row-item-icon icon-time"}),s("div",{staticClass:"cl2 mgr-5"},[t._v("营业时间：")]),s("div",{staticClass:"flex-1"},[t._v(t._s(t.shop.yystart)+"-"+t._s(t.shop.yyend))])]),t._l(t.certList,(function(a,i){return s("div",{key:i,staticClass:"row-item"},[s("div",{staticClass:"row-item-title",on:{click:function(s){arguments[0]=s=t.$handleEvent(s),t.showPic(0,a.imgslist)}}},[t._v(t._s(a.title))])])})),s("div",{staticClass:"row-item-text "},[s("div",{staticClass:"row-item-icon icon-read"}),s("div",{staticClass:"flex-1"},[t._v("公司简介")])]),s("div",{staticClass:"pdl-10 pdr-10"},[null!=t.shop.content?s("v-uni-rich-text",{attrs:{nodes:t.shop.content}}):t._e()],1)],2)])},o=[]},1116:function(t,a,s){"use strict";s.r(a);var i=s("7e59"),e=s.n(i);for(var o in i)"default"!==o&&function(t){s.d(a,t,(function(){return i[t]}))}(o);a["default"]=e.a},1139:function(t,a,s){var i=s("24fb");a=i(!1),a.push([t.i,".side[data-v-a44fcf66]{position:absolute;top:160px;left:0;width:80px;bottom:0;background-color:#fff}.sideClass[data-v-a44fcf66]{position:fixed;top:44px!important;left:0;right:0;bottom:50px}.side-menu[data-v-a44fcf66]{cursor:pointer;padding:10px 5px;border-bottom:1px solid #eee;color:#646464;font-size:14px}.side-menu-active[data-v-a44fcf66]{color:#f60}.main[data-v-a44fcf66]{margin-left:82px}",""]),t.exports=a},"1a49":function(t,a,s){"use strict";var i;s.d(a,"b",(function(){return e})),s.d(a,"c",(function(){return o})),s.d(a,"a",(function(){return i}));var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("v-uni-view",[t.pageLoad?s("v-uni-view",[s("div",{},[s("v-uni-scroll-view",{staticClass:"side",class:t.sideClass,style:{top:t.esTop2+"px"},attrs:{"scroll-y":"true"}},[s("div",{staticClass:"side-menu",class:{"side-menu-active":0==t.catid},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.setCat(0)}}},[t._v("推荐")]),t._l(t.catList,(function(a,i){return s("div",{key:i,staticClass:"side-menu",class:{"side-menu-active":t.catid==a.catid},on:{click:function(s){arguments[0]=s=t.$handleEvent(s),t.setCat(a.catid)}}},[t._v(t._s(a.title))])}))],2),s("div",{staticClass:"flex-1 main"},[s("div",{staticClass:"tabs-border"},[s("div",{staticClass:"tabs-border-item",class:{"tabs-border-active":""==t.orderby},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.setOrder("")}}},[t._v("综合")]),s("div",{staticClass:"flex flex-center tabs-border-item",class:{"tabs-border-active":"buy_num"==t.orderby},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.setOrder("buy_num")}}},[s("span",{staticClass:"mgr-5"},[t._v("销量")]),s("span",{staticClass:"iconfont icon-godown"})]),s("div",{staticClass:"tabs-border-item flex flex-center ",class:{"tabs-border-active":"price"==t.orderby},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.setOrder("price")}}},[s("span",{staticClass:"mgr-5"},[t._v("价格")]),s("span",{staticClass:"iconfont icon-godown"})])]),s("div",{staticClass:"flexlist"},t._l(t.list,(function(a,i){return s("div",{key:i,staticClass:"flexlist-item"},[s("img",{staticClass:"flexlist-img",attrs:{src:a.imgurl+".100x100.jpg"},on:{click:function(s){arguments[0]=s=t.$handleEvent(s),t.goProduct(a.id)}}}),s("div",{staticClass:"flex-1"},[s("div",{staticClass:"flexlist-title pointer",on:{click:function(s){arguments[0]=s=t.$handleEvent(s),t.goProduct(a.id)}}},[t._v(t._s(a.title))]),s("div",{staticClass:"flex flex-ai-center mgb-5"},[s("div",{staticClass:"cl-money f12"},[t._v("￥")]),s("div",{staticClass:"cl-money f14 mgr-5"},[t._v(t._s(a.price))]),s("div",{staticClass:"flex-1"}),s("div",{staticClass:"cl3 f10"},[t._v("已售"+t._s(a.buy_num)+"件")])]),s("div",{staticClass:"flex"},[s("div",{staticClass:"flex-1"}),a.isksid>0?s("div",[s("div",{staticClass:"btn-small btn-outline-success",on:{click:function(s){arguments[0]=s=t.$handleEvent(s),t.ksBox(a.id)}}},[t._v("选规格")])]):s("div",{staticClass:"pdb-5"},[a.incart?s("div",{staticClass:"numbox prolist-numbox"},[s("div",{staticClass:"numbox-minus",on:{click:function(s){arguments[0]=s=t.$handleEvent(s),t.minusCart(a.id,a.cart_amount)}}},[t._v("-")]),s("v-uni-input",{staticClass:"numbox-num",attrs:{type:"text",name:"amount",value:a.cart_amount}}),s("div",{staticClass:"numbox-plus",on:{click:function(s){arguments[0]=s=t.$handleEvent(s),t.plusCart(a.id,a.cart_amount)}}},[t._v("+")])],1):s("div",{staticClass:"btn-buy   iconfont icon-cart",on:{click:function(s){arguments[0]=s=t.$handleEvent(s),t.addCart(a.id)}}})])])])])})),0),t.per_page>0?s("div",{staticClass:"loadMore",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.getList()}}},[t._v("加载更多")]):t._e()])],1),s("div",{staticClass:"footer-row"}),s("div",{staticClass:"footerBox pd-5"},[s("div",{staticClass:" w60 pointer flex-center mgr-5",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.goGuest.apply(void 0,arguments)}}},[s("div",{staticClass:"iconfont icon-service cl-primary f18"}),s("div",{staticClass:"f12"},[t._v("客服")])]),0==t.cart.cart_total_num?s("div",{staticClass:"flex-1 flex"},[s("div",{staticClass:"cl2"},[t._v("暂无商品，快去选购吧")])]):t._e(),t.cart.cart_total_num>0?s("div",{staticClass:"flex-1",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.showCart=!0}}},[s("div",{staticClass:"cl-money"},[t._v("￥"+t._s(t.cart.cart_total_money))]),s("div",[t._v("运费金额 ￥"+t._s(t.cart.express_money))])]):t._e(),t.cart.cart_total_num>0?s("div",{staticClass:"btn",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.goOrder.apply(void 0,arguments)}}},[t._v("去结算")]):t._e()])]):t._e(),t.ksShow?s("div",[s("div",{staticClass:"modal-mask",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.ksHide.apply(void 0,arguments)}}}),s("div",{staticClass:"modal"},[s("div",{staticClass:"modal-header"},[s("div",{staticClass:"modal-title"},[t._v("选择款式")]),s("div",{staticClass:"modal-close icon-close",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.ksHide.apply(void 0,arguments)}}})]),s("div",{staticClass:"modal-body pdt-10"},[s("div",{staticClass:"ksBox mgb-10"},[s("div",{staticClass:"kslist mgb-10"},[s("div",{staticClass:"kslist-label"},[t._v(t._s(t.ksproduct.ks_label_name))]),t._l(t.ksList,(function(a,i){return s("div",{key:i,staticClass:"kslist-item",class:{"kslist-active":a.id==t.ksid1},on:{click:function(s){arguments[0]=s=t.$handleEvent(s),t.ks1(a.id)}}},[t._v(t._s(a.title))])}))],2),s("div",{staticClass:"kslist"},[s("div",{staticClass:"kslist-label"},[t._v(t._s(t.ksproduct.ks_label_size))]),t._l(t.ksList2,(function(a,i){return s("div",{key:i,staticClass:"kslist-item",class:{"kslist-active":a.id==t.ksid},on:{click:function(s){arguments[0]=s=t.$handleEvent(s),t.ks2(a.id)}}},[t._v(t._s(a.size))])}))],2)]),s("div",{staticClass:"flex"},[s("div",{staticClass:"cl2 mgr-10 mgl-10"},[t._v("价格")]),s("div",{staticClass:"cl-money"},[t._v("￥"+t._s(t.ksproduct.price))]),s("div",{staticClass:"flex-1"}),t.ksproduct.incart?s("div",{staticClass:"numbox prolist-numbox"},[s("div",{staticClass:"numbox-minus",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.ksMinusCart(t.ksproduct.id,t.ksproduct.cart_amount)}}},[t._v("-")]),s("v-uni-input",{staticClass:"numbox-num",attrs:{type:"text",name:"amount",value:t.ksproduct.cart_amount}}),s("div",{staticClass:"numbox-plus",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.ksPlusCart(t.ksproduct.id,t.ksproduct.cart_amount)}}},[t._v("+")])],1):s("div",{staticClass:"btn-buy",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.ksAddCart(t.ksproduct.id)}}},[t._v("买")])])])])]):t._e(),t.showCart?s("shop-cart",{attrs:{shopid:t.shopid},on:{"call-parent":function(a){arguments[0]=a=t.$handleEvent(a),t.setCart.apply(void 0,arguments)}}}):t._e()],1)},o=[]},"1f05":function(t,a,s){"use strict";s.r(a);var i=s("db16"),e=s("cd6d");for(var o in e)"default"!==o&&function(t){s.d(a,t,(function(){return e[t]}))}(o);s("25c6");var n,r=s("f0c5"),c=Object(r["a"])(e["default"],i["b"],i["c"],!1,null,"0169959e",null,!1,i["a"],n);a["default"]=c.exports},"221d":function(t,a,s){"use strict";s.r(a);var i=s("40f4"),e=s("c495");for(var o in e)"default"!==o&&function(t){s.d(a,t,(function(){return e[t]}))}(o);s("98f3");var n,r=s("f0c5"),c=Object(r["a"])(e["default"],i["b"],i["c"],!1,null,"346b0474",null,!1,i["a"],n);a["default"]=c.exports},"25c6":function(t,a,s){"use strict";var i=s("dd96"),e=s.n(i);e.a},"40e0":function(t,a,s){var i=s("24fb");a=i(!1),a.push([t.i,".fixCartBox-bg[data-v-346b0474]{background-color:#efefef;position:fixed;z-index:9;opacity:.6;bottom:0;top:0;left:0;right:0}.fixCartBox[data-v-346b0474]{background-color:#fff;position:fixed;z-index:99;bottom:60px;top:100px;left:5px;right:5px;border-radius:5px;padding:5px;box-sizing:border-box}",""]),t.exports=a},"40f4":function(t,a,s){"use strict";var i;s.d(a,"b",(function(){return e})),s.d(a,"c",(function(){return o})),s.d(a,"a",(function(){return i}));var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("v-uni-view",[s("v-uni-view",{staticClass:"fixCartBox-bg pointer",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.close.apply(void 0,arguments)}}}),s("v-uni-scroll-view",{staticClass:"fixCartBox",attrs:{"scroll-y":"true"}},[s("v-uni-view",{staticClass:"flex"},[s("v-uni-view",{staticClass:"flex-1"}),s("v-uni-view",{staticClass:"pd-5 pointer",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.close.apply(void 0,arguments)}}},[t._v("关闭")])],1),s("v-uni-view",{staticClass:"flexlist"},t._l(t.list,(function(a,i){return s("v-uni-view",{key:i,staticClass:"flexlist-item"},[s("v-uni-image",{staticClass:"flexlist-img",attrs:{src:a.imgurl+".100x100.jpg",mode:"widthFix"}}),s("v-uni-view",{staticClass:"flex-1"},[s("v-uni-view",{staticClass:"flexlist-title"},[t._v(t._s(a.title))]),s("v-uni-view",{staticClass:"flexlist-row"},[s("v-uni-view",{},[t._v(t._s(a.ks_title))]),s("v-uni-view",{staticClass:"cl-money"},[t._v("￥"+t._s(a.price))]),s("v-uni-view",{staticClass:"flex-1"}),s("v-uni-view",{staticClass:"numbox"},[s("v-uni-view",{staticClass:"numbox-minus",on:{click:function(s){arguments[0]=s=t.$handleEvent(s),t.minusCart(a.productid,a.amount,a.ksid)}}},[t._v("-")]),s("v-uni-input",{staticClass:"numbox-num",attrs:{type:"text",name:"amount",value:a.amount}}),s("v-uni-view",{staticClass:"numbox-plus",on:{click:function(s){arguments[0]=s=t.$handleEvent(s),t.plusCart(a.productid,a.amount,a.ksid)}}},[t._v("+")])],1)],1)],1)],1)})),1),s("v-uni-view",{staticClass:"pd-10 flex"},[s("v-uni-view",{staticClass:"flex-1"},[t._v("共"+t._s(t.total_num)+"件，总"+t._s(t.total_money)+"元")])],1)],1)],1)},o=[]},"466e":function(t,a,s){var i=s("24fb");a=i(!1),a.push([t.i,".raty-num[data-v-0169959e]{margin-left:3px}",""]),t.exports=a},"4e54":function(t,a,s){"use strict";s.r(a);var i=s("fe77"),e=s("f55c");for(var o in e)"default"!==o&&function(t){s.d(a,t,(function(){return e[t]}))}(o);var n,r=s("f0c5"),c=Object(r["a"])(e["default"],i["b"],i["c"],!1,null,"10dad1ae",null,!1,i["a"],n);a["default"]=c.exports},5318:function(t,a,s){"use strict";s.r(a);var i=s("06df"),e=s("c149");for(var o in e)"default"!==o&&function(t){s.d(a,t,(function(){return e[t]}))}(o);var n,r=s("f0c5"),c=Object(r["a"])(e["default"],i["b"],i["c"],!1,null,"49e652da",null,!1,i["a"],n);a["default"]=c.exports},"5b01":function(t,a,s){"use strict";s("e25e"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i={props:{len:0,grade:0,label:"",mod:0,fields:"",readonly:0},data:function(){return{num:0,items:[],gradeItems:[],half:!1,gclass:"mgb-10"}},watch:{num:function(t,a){this.$emit("call-parent",t)}},created:function(){console.log(this.label),void 0!=this.groupclass&&(this.gclass=this.groupclass);var t=[],a=this.len;0==a&&(a=5);for(var s=0;s<a;s++)t.push(s);this.items=t;var i=1;void 0!=this.mod&&(i=this.mod),this.grade%i!=0&&(console.log("mod"),this.half=!0);var e=parseInt(this.grade/i),o=[];for(s=0;s<e;s++)o.push(s);this.num=this.grade,this.gradeItems=o},methods:{setRaty:function(t){if(this.readonly)return!1;for(var a=[],s=t+1,i=0;i<s;i++)a.push(i);var e=1;void 0!=this.mod&&(e=this.mod),this.num=s*e,this.half=!1,this.gradeItems=a}}};a.default=i},"70f4":function(t,a,s){"use strict";var i=s("d81a"),e=s.n(i);e.a},7113:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i={props:{shopid:0},data:function(){return{list:[],total_num:0,total_money:0}},watch:{shopid:function(t,a){this.getPage()},show:function(t,a){1==t&&this.getPage()}},created:function(){this.shopid&&this.getPage()},methods:{close:function(){this.$emit("call-parent",{action:"close"})},getPage:function(){var t=this;t.app.get({url:t.app.apiHost+"/module.php?m=b2b_cart&a=getbyshop&ajax=1",unLogin:!0,data:{shopid:this.shopid},success:function(a){if(a.error)return!1;t.list=a.data.list,t.total_num=a.data.total_num,t.total_money=a.data.total_money}})},plusCart:function(t,a,s){var i=this,e=t;a=a,s=void 0==s?0:s;a++,i.app.get({url:i.app.apiHost+"/module.php?m=b2b_cart&a=add&ajax=1",data:{productid:e,amount:a,ksid:s},success:function(t){i.$emit("call-parent",{action:"update"}),i.getPage()}})},minusCart:function(t,a,s){var i=this,e=t;a=a,s=void 0==s?0:s;a--;var o=0;0==a&&(o=1),i.app.get({url:i.app.apiHost+"/module.php?m=b2b_cart&a=add&ajax=1",data:{productid:e,amount:a,ksid:s,isdelete:o},success:function(t){i.$emit("call-parent",{action:"update"}),i.getPage()}})}}};a.default=i},"79cc":function(t,a,s){var i=s("24fb");a=i(!1),a.push([t.i,'.header-back-fixed[data-v-4834580c]{color:#fff;width:30px;height:30px;line-height:30px}.header-fixtop-menu[data-v-4834580c]{position:absolute;top:40px;border-radius:10px;right:5px;width:100px;z-index:999;background-color:#fff}.header-fav-btn[data-v-4834580c]{position:absolute;top:5px;right:5px;display:flex;flex-direction:row;font-size:14px;padding:5px;color:#666}.header-fav-btn[data-v-4834580c]:before{font-size:14px;color:#666}.btn-fav-active[data-v-4834580c],\n.btn-fav-active[data-v-4834580c]::before{color:#ffc107}.wshop[data-v-4834580c]{background-color:#fff;padding-top:20px;padding-bottom:10px}.wshop-logo[data-v-4834580c]{height:60px;background-color:#0099a8;text-align:center}.wshop-logo-img[data-v-4834580c]{width:50px;height:50px;margin:0 auto;position:relative;top:25px;border-radius:10px}.wshop-shopname[data-v-4834580c]{color:#323232;margin-bottom:5px;position:relative;font-size:16px;text-align:center}.wshop-welcome[data-v-4834580c]{color:#fff;font-size:14px}.btn-service[data-v-4834580c]{display:flex;flex-direction:row;font-family:iconfont;cursor:pointer;display:flex;flex-direction:row;align-items:center;padding:0 10px;border:1px solid #aaa;font-size:14px;height:26px;border-color:#e30;color:#e30;border-radius:5px}.btn-fav[data-v-4834580c]{height:28px;border-radius:5px}.btn-service[data-v-4834580c]:before{font-family:iconfont;content:"\\e7e6";font-size:14px;margin-right:3px}.btn-coupon[data-v-4834580c]{padding:3px 5px;border:1px solid #f1c40f;border-radius:5px;color:#323232;font-size:12px;line-height:1;margin-right:5px}.rp-list[data-v-4834580c]{overflow:hidden}.rp-item[data-v-4834580c]{width:30%;padding-right:2px;box-sizing:border-box}.tabClass[data-v-4834580c]{position:fixed;top:0;left:0;right:0}.tabRowClass[data-v-4834580c]{height:46px}.sideClass[data-v-4834580c]{position:fixed;top:44px;left:0;right:0;bottom:50px}',""]),t.exports=a},"7bc0":function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i={props:{shopid:0},data:function(){return{shop:{},certList:[]}},created:function(){0!=this.shopid&&this.getPage()},watch:{shopid:function(t,a){this.getPage()}},methods:{showPic:function(t,a){var s=[];for(var i in a)s.push(a+".middle.jpg");uni.previewImage({current:t,urls:s})},getPage:function(){var t=this;t.app.get({url:t.app.apiHost+"/module.php?m=b2b_shop&a=detail&ajax=1&shopid="+this.shopid,success:function(a){t.shop=a.data.shop,t.certList=a.data.certList}})}}};a.default=i},"7e59":function(t,a,s){"use strict";var i=s("4ea4");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var e=i(s("5530")),o=i(s("95cd")),n=i(s("4e54")),r=i(s("5318")),c=s("26cb"),d=0,l={components:{shopIndex:o.default,shopRaty:n.default,shopDetail:r.default},data:function(){return{page:"product",pageLoad:!1,list:{},shopid:0,shop:{},shopFavClass:"",tabClass:"",tabRowClass:"",couponList:[]}},onLoad:function(t){d=this.shopid=t.shopid,0!=this.shopid&&(this.page="product"),this.getPage()},onPageScroll:function(t){this.$store.commit("setScrollTop",t.scrollTop),t.scrollTop>this.esTop?(this.tabClass="tabClass",this.tabRowClass="tabRowClass"):(this.tabClass="",this.tabRowClass="")},computed:(0,e.default)({},(0,c.mapState)({scrollTop:function(t){return t.scrollTop},esTop:function(t){return t.esTop},esTop2:function(t){return t.esTop2}})),methods:{goBack:function(){this.app.goBack()},getPage:function(){var t=this;t.app.get({dataType:"json",url:t.app.apiHost+"/module.php?m=b2b_shop&ajax=1",data:{shopid:this.shopid},success:function(a){t.shop=a.data.shop,t.pageLoad=!0,t.isFav=a.data.isfav,t.couponList=a.data.couponList,a.data.isfav&&(t.shopFavClass="btn-fav-active"),setTimeout((function(){var a=document.getElementById("esDot").offsetTop;t.$store.commit("setEsTop",a);var s=document.getElementById("esDot2").offsetTop;t.$store.commit("setEsTop2",s)}),300)}})},goGuest:function(){uni.navigateTo({url:"../b2b_guest/user?shopid="+d})},favShopToggle:function(t){var a=this;a.app.get({url:a.app.apiHost+"/index.php?m=fav&a=toggle&ajax=1",data:{tablename:"mod_b2b_shop",objectid:t},dataType:"json",success:function(t){t.error&&skyToast(t.message),"add"==t.data?a.shopFavClass="btn-fav-active":a.shopFavClass=""}})}}};a.default=l},9419:function(t,a,s){"use strict";var i=s("e6a1"),e=s.n(i);e.a},"95cd":function(t,a,s){"use strict";s.r(a);var i=s("1a49"),e=s("f47a");for(var o in e)"default"!==o&&function(t){s.d(a,t,(function(){return e[t]}))}(o);s("9419");var n,r=s("f0c5"),c=Object(r["a"])(e["default"],i["b"],i["c"],!1,null,"a44fcf66",null,!1,i["a"],n);a["default"]=c.exports},"98f3":function(t,a,s){"use strict";var i=s("fa49"),e=s.n(i);e.a},c149:function(t,a,s){"use strict";s.r(a);var i=s("7bc0"),e=s.n(i);for(var o in i)"default"!==o&&function(t){s.d(a,t,(function(){return i[t]}))}(o);a["default"]=e.a},c1f0:function(t,a,s){"use strict";var i=s("4ea4");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var e=i(s("ade3")),o=i(s("5530")),n=s("26cb"),r=i(s("221d")),c={components:{shopCart:r.default},props:{shopid:""},data:function(){return{page:"product",pageLoad:!1,list:{},showCart:!1,shop:{},sideClass:"",catList:{},catid:0,per_page:0,isFirst:!0,cart:{},ksShow:!1,ksproduct:[],ksList:[],ksList2:[],ksid:0,ksid1:0,ksid2:0,orderby:""}},created:function(t){0!=this.shopid&&(this.getList(),this.statCart())},computed:(0,o.default)({},(0,n.mapState)({scrollTop:function(t){return t.scrollTop},esTop:function(t){return t.esTop},esTop2:function(t){return t.esTop2}})),watch:{shopid:function(t,a){this.getList(),this.statCart()},scrollTop:function(t,a){this.scrollTop>this.esTop?this.sideClass="sideClass":this.sideClass=""}},methods:{setCart:function(t){"update"==t.action?this.statCart():"close"==t.action&&(this.showCart=!1)},goBack:function(){uni.navigateBack()},setCat:function(t){this.catid=t,this.per_page=0,this.isFirst=!0,uni.pageScrollTo({scrollTop:this.esTop}),this.getList()},setOrder:function(t){this.orderby=t,this.isFirst=!0,this.per_page=0,this.getList()},getList:function(){var t,a=this;if(0==this.per_page&&!this.isFirst)return!1;a.app.get((t={dataType:"json",url:a.app.apiHost+"/module.php?m=b2b_product&ajax=1&shopid="+this.shopid,data:{catid:a.catid,type:a.type,per_page:a.per_page,orderby:this.orderby}},(0,e.default)(t,"dataType","json"),(0,e.default)(t,"success",(function(t){if(t.error)return!1;if(a.isFirst)a.catList=t.data.catList,a.list=t.data.list,a.pageLoad=!0;else for(var s in t.data.list)a.list.push(t.data.list[s]);a.per_page=t.data.per_page,a.isFirst=!1})),t))},goOrder:function(){uni.navigateTo({url:"../../b2b/b2b_order/confirm?shopid="+this.shopid})},goGuest:function(){uni.navigateTo({url:"../../b2b/b2b_guest/user?shopid="+this.shopid})},goProduct:function(t){uni.navigateTo({url:"../../b2b/b2b_product/show?id="+t+"&shopid="+this.shopid})},addCart:function(t,a){var s,i=this,o=(t=t,a=void 0==a?0:a,1);i.app.get((s={dataType:"json",url:i.app.apiHost+"/module.php?m=b2b_cart&a=add&ajax=1",data:{productid:t,amount:o,ksid:a},method:"GET"},(0,e.default)(s,"dataType","json"),(0,e.default)(s,"success",(function(a){if(1e3==a.error)return window.location="/index.php?m=login",!1;if(a.error)return uni.showToast({title:a.message}),!1;i.statCart();for(var s=0;s<i.list.length;s++)if(i.list[s].id==t){a.data.amount>0&&(i.list[s].incart=1),i.list[s].cart_amount=a.data.amount;break}})),s))},plusCart:function(t,a,s){var i,o=this;t=t,a=a,s=void 0==s?0:s;a++,o.app.get((i={dataType:"json",url:o.app.apiHost+"/module.php?m=b2b_cart&a=add&ajax=1",data:{productid:t,amount:a,ksid:s},method:"GET"},(0,e.default)(i,"dataType","json"),(0,e.default)(i,"success",(function(a){if(a.error)return uni.showToast({title:a.message}),!1;o.statCart();for(var s=0;s<o.list.length;s++)if(o.list[s].id==t){o.list[s].cart_amount=a.data.amount;break}})),i))},minusCart:function(t,a,s){var i,o=this;t=t,a=a,s=void 0==s?0:s;a--;var n=0;0==a&&(n=1),o.app.get((i={dataType:"json",url:o.app.apiHost+"/module.php?m=b2b_cart&a=add&ajax=1",data:{productid:t,amount:a,ksid:s,isdelete:n},method:"GET"},(0,e.default)(i,"dataType","json"),(0,e.default)(i,"success",(function(a){if(a.error)return uni.showToast({title:a.message}),!1;o.statCart();for(var s=0;s<o.list.length;s++)if(o.list[s].id==t){0==a.data.amount&&(o.list[s].incart=0),o.list[s].cart_amount=a.data.amount;break}})),i))},ksBox:function(t){var a,s=this;s.app.get((a={dataType:"json",url:s.app.apiHost+"/module.php?m=b2b_product_ks&ajax=1&productid="+t},(0,e.default)(a,"dataType","json"),(0,e.default)(a,"success",(function(t){s.ksShow=!0,s.ksproduct=t.data.product,s.ksList=t.data.ksList,s.ksList2=t.data.ksList2,s.ksid1=t.data.ksid,s.ksid=t.data.ksid})),a))},ksHide:function(){this.ksid=0,this.ksShow=!1},ks1:function(t){var a,s=this;s.app.get((a={dataType:"json",url:s.app.apiHost+"/module.php?m=b2b_product_ks&a=sizeList&ajax=1&id="+t},(0,e.default)(a,"dataType","json"),(0,e.default)(a,"success",(function(t){s.ksid1=t.data.ksid,s.ksid=t.data.ksid,s.ksproduct=t.data.product,s.ksList2=t.data.ksList2})),a))},ks2:function(t){var a,s=this;s.ksid=t,s.app.get((a={dataType:"json",url:s.app.apiHost+"/module.php?m=b2b_product_ks&a=get&ajax=1&id="+t},(0,e.default)(a,"dataType","json"),(0,e.default)(a,"success",(function(t){s.ksproduct=t.data.product})),a))},ksAddCart:function(t){var a,s=this,i=(t=t,s.ksid),o=1;s.app.get((a={dataType:"json",url:s.app.apiHost+"/module.php?m=b2b_cart&a=add&ajax=1",data:{productid:t,amount:o,ksid:i},method:"GET"},(0,e.default)(a,"dataType","json"),(0,e.default)(a,"success",(function(t){return 1e3==t.error?(window.location="/index.php?m=login",!1):t.error?(uni.showToast({title:t.message}),!1):(s.statCart(),s.ksproduct.incart=1,void(s.ksproduct.cart_amount=t.data.amount))})),a))},ksPlusCart:function(t,a){var s,i=this,o=(t=t,a=a,i.ksid);a++,i.app.get((s={dataType:"json",url:i.app.apiHost+"/module.php?m=b2b_cart&a=add&ajax=1",data:{productid:t,amount:a,ksid:o},method:"GET"},(0,e.default)(s,"dataType","json"),(0,e.default)(s,"success",(function(t){if(t.error)return uni.showToast({title:t.message}),!1;i.statCart(),i.ksproduct.cart_amount=t.data.amount})),s))},ksMinusCart:function(t,a){var s,i=this,o=(t=t,a=a,i.ksid);a--;var n=0;0==a&&(n=1),i.app.get((s={dataType:"json",url:i.app.apiHost+"/module.php?m=b2b_cart&a=add&ajax=1",data:{productid:t,amount:a,ksid:o,isdelete:n},method:"GET"},(0,e.default)(s,"dataType","json"),(0,e.default)(s,"success",(function(t){if(t.error)return uni.showToast({title:t.message}),!1;i.statCart(),0==t.data.amount?(i.ksproduct.cart_amount=0,i.ksproduct.incart=0):i.ksproduct.cart_amount=t.data.amount})),s))},statCart:function(){var t=this;t.app.get({url:t.app.apiHost+"/module.php?m=b2b_cart&a=statshop&ajax=1",data:{shopid:this.shopid},unLogin:!0,success:function(a){a.error?t.cart={cart_amount:0,cart_total_money:0,cart_total_num:0,express_money:0}:t.cart={cart_amount:a.data.cart_amount,cart_total_money:a.data.cart_total_money,cart_total_num:a.data.cart_total_num,express_money:a.data.express_money}}})}}};a.default=c},c495:function(t,a,s){"use strict";s.r(a);var i=s("7113"),e=s.n(i);for(var o in i)"default"!==o&&function(t){s.d(a,t,(function(){return i[t]}))}(o);a["default"]=e.a},c7ea:function(t,a,s){"use strict";s.r(a);var i=s("ca2e"),e=s("1116");for(var o in e)"default"!==o&&function(t){s.d(a,t,(function(){return e[t]}))}(o);s("70f4");var n,r=s("f0c5"),c=Object(r["a"])(e["default"],i["b"],i["c"],!1,null,"4834580c",null,!1,i["a"],n);a["default"]=c.exports},ca2e:function(t,a,s){"use strict";var i;s.d(a,"b",(function(){return e})),s.d(a,"c",(function(){return o})),s.d(a,"a",(function(){return i}));var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("v-uni-view",[s("div",[t.pageLoad?s("div",[s("div",{staticClass:"header-back-fixed",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.goBack.apply(void 0,arguments)}}}),s("div",{staticClass:"header-fav-btn iconfont icon-favor",class:t.shopFavClass,on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.favShopToggle(t.shop.shopid)}}},[t._v("收藏")]),s("div",{staticClass:"modal-group",attrs:{id:"header-more-box"}},[s("div",{staticClass:"modal-mask"}),s("div",{staticClass:"header-fixtop-menu"},[s("div",{staticClass:"row-item-text pointer"},[s("div",{staticClass:"row-item-icon icon-share"}),t._v("分享店铺")]),s("div",{staticClass:"row-item-text pointer"},[s("div",{staticClass:"row-item-icon icon-warn_light"}),t._v("举报商家")])])]),s("div",{staticClass:"wshop-logo"},[s("v-uni-image",{staticClass:"wshop-logo-img",attrs:{model:"widthFix",src:t.shop.imgurl+".100x100.jpg"}})],1),s("div",{staticClass:"wshop mgb-5"},[s("div",[s("div",{staticClass:"wshop-shopname"},[t._v(t._s(t.shop.shopname))]),s("div",{staticClass:"flex pd-5"},t._l(t.couponList,(function(a,i){return s("div",{key:i,staticClass:"btn-coupon"},[t._v(t._s(a.title))])})),0)])]),s("div",{attrs:{id:"esDot"}}),s("div",{staticClass:"tabs-border",class:t.tabClass},[s("div",{staticClass:"tabs-border-item",class:{"tabs-border-active":"product"==t.page},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.page="product"}}},[t._v("商品")]),s("div",{staticClass:"tabs-border-item",class:{"tabs-border-active":"raty"==t.page},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.page="raty"}}},[t._v("评价")]),s("div",{staticClass:"tabs-border-item",class:{"tabs-border-active":"detail"==t.page},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.page="detail"}}},[t._v("商家")])]),s("div",{attrs:{id:"esDot2"}}),s("div",{class:t.tabRowClass})]):t._e()]),"product"==t.page?s("div",[s("shop-index",{attrs:{shopid:t.shopid}})],1):"raty"==t.page?s("div",[s("shop-raty",{attrs:{shopid:t.shopid}})],1):s("div",[s("shop-detail",{attrs:{shopid:t.shopid}})],1)])},o=[]},cd6d:function(t,a,s){"use strict";s.r(a);var i=s("5b01"),e=s.n(i);for(var o in i)"default"!==o&&function(t){s.d(a,t,(function(){return i[t]}))}(o);a["default"]=e.a},d81a:function(t,a,s){var i=s("79cc");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var e=s("4f06").default;e("2ed91c58",i,!0,{sourceMap:!1,shadowMode:!1})},db16:function(t,a,s){"use strict";var i;s.d(a,"b",(function(){return e})),s.d(a,"c",(function(){return o})),s.d(a,"a",(function(){return i}));var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("v-uni-view",[s("v-uni-view",{staticClass:"raty-group",class:t.gclass},[t.label.length>0?s("v-uni-view",{staticClass:"raty-label"},[t._v(t._s(t.label))]):t._e(),s("v-uni-input",{staticClass:"raty-value none",attrs:{type:"text",name:t.fields,value:t.num}}),s("v-uni-view",{staticClass:"raty-row"},[s("v-uni-view",{staticClass:"raty-item"},[t._l(t.items,(function(a,i){return s("v-uni-view",{key:i,staticClass:"raty-no",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.setRaty(i)}}})})),s("v-uni-view",{staticClass:"raty-num"},[t._v(t._s(t.num))])],2),s("v-uni-view",{staticClass:"raty-item"},t._l(t.gradeItems,(function(a,i){return s("v-uni-view",{key:i,staticClass:"raty-yes",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.setRaty(i)}}})})),1)],1)],1)],1)},o=[]},dd96:function(t,a,s){var i=s("466e");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var e=s("4f06").default;e("6f299052",i,!0,{sourceMap:!1,shadowMode:!1})},e6a1:function(t,a,s){var i=s("1139");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var e=s("4f06").default;e("1bd343d6",i,!0,{sourceMap:!1,shadowMode:!1})},f47a:function(t,a,s){"use strict";s.r(a);var i=s("c1f0"),e=s.n(i);for(var o in i)"default"!==o&&function(t){s.d(a,t,(function(){return i[t]}))}(o);a["default"]=e.a},f55c:function(t,a,s){"use strict";s.r(a);var i=s("fba3"),e=s.n(i);for(var o in i)"default"!==o&&function(t){s.d(a,t,(function(){return i[t]}))}(o);a["default"]=e.a},fa49:function(t,a,s){var i=s("40e0");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var e=s("4f06").default;e("6a6a1d7c",i,!0,{sourceMap:!1,shadowMode:!1})},fba3:function(t,a,s){"use strict";var i=s("4ea4");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var e=i(s("1f05")),o={components:{skyRaty:e.default},props:{shopid:0},data:function(){return{shop:{},list:[],pageLoad:!1}},created:function(){this.getPage()},methods:{getPage:function(){var t=this;t.app.get({url:t.app.apiHost+"/module.php?m=b2b_shop&a=raty&ajax=1&shopid="+this.shopid,success:function(a){t.list=a.data.ratyList,t.shop=a.data.shop,t.pageLoad=!0}})}}};a.default=o},fe77:function(t,a,s){"use strict";var i;s.d(a,"b",(function(){return e})),s.d(a,"c",(function(){return o})),s.d(a,"a",(function(){return i}));var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[0==t.list.length?s("div",{staticClass:"emptyData"},[t._v("暂无评价")]):s("div",[s("div",{staticClass:"flexlist-item flex-ai-center"},[s("img",{staticClass:"flexlist-img",attrs:{src:t.shop.imgurl+".100x100.jpg"}}),s("div",{staticClass:"flex-1"},[s("sky-raty",{attrs:{len:"10",groupclass:"mgb-5",label:"综合",readonly:"1",grade:t.shop.raty_grade}}),s("sky-raty",{attrs:{len:"10",groupclass:"mgb-5",label:"产品",readonly:"1",grade:t.shop.raty_grade_product}}),s("sky-raty",{attrs:{len:"10",groupclass:"mgb-5",label:"物流",readonly:"1",grade:t.shop.raty_grade_express}})],1)]),t._l(t.list,(function(a,i){return s("div",{key:i,staticClass:"bg-white pd-10 flex mgb-5"},[s("img",{staticClass:"wh-60 mgr-10",attrs:{src:a.user_head+".100x100.jpg"}}),s("div",{staticClass:"flex-1"},[s("div",{staticClass:"flex mgb-5"},[s("div",{staticClass:"flex-1"},[t._v(t._s(a.nickname))]),s("div",{staticClass:"cl3"},[t._v(t._s(a.timeago))])]),s("sky-raty",{attrs:{len:"10",readonly:"1",label:"评价",grade:a.raty_service}}),s("div",{staticClass:"cl2"},[t._v(t._s(a.content))])],1)])}))],2)])},o=[]}}]);