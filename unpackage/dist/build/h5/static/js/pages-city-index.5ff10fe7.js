(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-city-index"],{2333:function(t,i,a){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e={data:function(){return{aaBoxClass:"",keyword:"",searchList:{},city:"厦门",cityGroup:{},zm:"A",zms:{},recList:{}}},onLoad:function(){uni.createSelectorQuery().in(this),this.getPage(),this.city=this.app.getCity()},onPageScroll:function(t){var i=this,a=t.scrollTop,e=this.zms;for(var n in e)if(e[n]>a){i.zm=n;break}},methods:{search:function(){var t=this;setTimeout((function(){t.app.get({url:t.app.apiHost+"/index.php?m=city&a=search&city="+t.keyword,success:function(i){t.searchList=i.data.list}})}),30)},searchShow:function(){this.aaBoxClass="flex-col"},setCity:function(t,i){this.app.setCity(t,i),this.city=t,uni.navigateBack()},setZm:function(t){this.zm=t;var i=this.zms[t];uni.pageScrollTo({scrollTop:i})},getZmsy:function(){var t=this.zms;for(var i in t)t[i]=document.getElementById("zms"+i).offsetTop;this.zms=t,console.log(t)},getPage:function(){var t=this;t.app.get({url:t.app.apiHost+"/index.php?m=city",success:function(i){t.cityGroup=i.data.list;var a=Array();for(var e in t.cityGroup)a[e]=0;t.zms=a,t.recList=i.data.recList,setTimeout((function(){t.getZmsy()}),300)}})}}};i.default=e},"8baf":function(t,i,a){"use strict";var e=a("af09"),n=a.n(e);n.a},af09:function(t,i,a){var e=a("b2f5");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var n=a("4f06").default;n("0a87cb72",e,!0,{sourceMap:!1,shadowMode:!1})},b2f5:function(t,i,a){var e=a("24fb");i=e(!1),i.push([t.i,".header-search-close[data-v-49b1a00a]{display:none;position:absolute;width:30px;height:30px;right:0;top:0;font-family:iconfont;align-items:center;flex-direction:row;text-align:center;justify-content:center}.aaBox[data-v-49b1a00a]{display:none;position:absolute;top:50px;left:0;right:0;bottom:0;background-color:#fff;padding:10px 20px;box-sizing:border-box}.rBox[data-v-49b1a00a]{margin-right:20px;display:flex;flex-direction:row;flex-wrap:wrap;margin-bottom:10px}.bta[data-v-49b1a00a]{width:24%;font-size:12px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;margin-right:1%;margin-bottom:5px;background-color:#eee;text-align:center;padding:5px;box-sizing:border-box}.pBox[data-v-49b1a00a]{position:fixed;top:90px;right:0;background-color:#fff;padding:5px}\n.pBox[data-v-49b1a00a]{top:120px}\n.pBox-item[data-v-49b1a00a]{text-align:center;width:18px;height:18px;line-height:18px;font-size:12px}.pBox-active[data-v-49b1a00a]{background-color:#eee;border-radius:20px}",""]),t.exports=i},b90a:function(t,i,a){"use strict";a.r(i);var e=a("d22c"),n=a("bbb5");for(var s in n)"default"!==s&&function(t){a.d(i,t,(function(){return n[t]}))}(s);a("8baf");var o,c=a("f0c5"),r=Object(c["a"])(n["default"],e["b"],e["c"],!1,null,"49b1a00a",null,!1,e["a"],o);i["default"]=r.exports},bbb5:function(t,i,a){"use strict";a.r(i);var e=a("2333"),n=a.n(e);for(var s in e)"default"!==s&&function(t){a.d(i,t,(function(){return e[t]}))}(s);i["default"]=n.a},d22c:function(t,i,a){"use strict";var e;a.d(i,"b",(function(){return n})),a.d(i,"c",(function(){return s})),a.d(i,"a",(function(){return e}));var n=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("v-uni-view",[a("v-uni-view",{staticClass:"row-box"},[a("v-uni-view",{staticClass:"header-search-box mgb-10"},[a("v-uni-view",{staticClass:"header-search-icon icon-search"}),a("v-uni-input",{staticClass:"header-search",attrs:{placeholder:"输入城市名搜索",type:"search"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.searchShow.apply(void 0,arguments)},input:function(i){arguments[0]=i=t.$handleEvent(i),t.search.apply(void 0,arguments)}},model:{value:t.keyword,callback:function(i){t.keyword=i},expression:"keyword"}}),a("v-uni-view",{staticClass:"header-search-close icon-close",class:t.aaBoxClass,on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.aaBoxClass=""}}})],1),a("v-uni-view",{staticClass:"flex mgb-20"},[a("v-uni-view",{staticClass:"iconfont icon-location_light"}),a("v-uni-view",{staticClass:"mgr-5"},[t._v("当前定位城市")]),a("v-uni-view",{staticClass:"fwb"},[t._v(t._s(t.city))])],1),a("v-uni-view",{staticClass:"mgb-10 f14 fwb"},[t._v("热门城市")]),a("v-uni-view",{staticClass:"rBox"},t._l(t.recList,(function(i,e){return a("v-uni-view",{key:e,staticClass:"bta",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.setCity(i.name)}}},[t._v(t._s(i.name))])})),1),a("v-uni-view",t._l(t.cityGroup,(function(i,e,n){return a("v-uni-view",{key:e},[a("v-uni-view",{staticClass:"f16 zms",attrs:{id:"zms"+e}},[t._v(t._s(e))]),t._l(i.child,(function(i,e){return[a("v-uni-view",{key:e+"_0",staticClass:"row-item-text",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.setCity(i.name)}}},[a("div",{staticClass:"row-item-title"},[t._v(t._s(i.name))])])]}))],2)})),1),a("v-uni-view",{staticClass:"pBox"},t._l(t.cityGroup,(function(i,e,n){return a("v-uni-view",{key:n,staticClass:"pBox-item",class:t.zm==e?"pBox-active":"",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.setZm(e)}}},[t._v(t._s(e))])})),1)],1),a("v-uni-scroll-view",{staticClass:"aaBox",class:t.aaBoxClass,attrs:{"scroll-y":"true"}},t._l(t.searchList,(function(i,e){return a("v-uni-view",{key:e,staticClass:"flex bd-mp-5",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.setCity(i.name,i.cityid)}}},[a("v-uni-view",{staticClass:"f16 mgb-5 cl1"},[t._v(t._s(i.name))])],1)})),1)],1)},s=[]}}]);