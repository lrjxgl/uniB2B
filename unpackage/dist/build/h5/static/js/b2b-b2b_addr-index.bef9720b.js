(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["b2b-b2b_addr-index"],{"0ca2":function(t,i,s){var a=s("2289");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var e=s("4f06").default;e("5e0e2d14",a,!0,{sourceMap:!1,shadowMode:!1})},2289:function(t,i,s){var a=s("24fb");i=a(!1),i.push([t.i,".pdl-20[data-v-d9252404]{padding-left:25px}.aaBox[data-v-d9252404]{display:none;position:absolute;top:50px;left:0;right:0;bottom:0;background-color:#fff;padding:10px 20px;box-sizing:border-box}.header-search-close[data-v-d9252404]{display:none;position:absolute;width:30px;height:30px;right:0;top:0;font-family:iconfont;align-items:center;flex-direction:row;text-align:center;justify-content:center}.ffBox-row[data-v-d9252404]{height:40px}.ffBox[data-v-d9252404]{position:fixed;bottom:0;left:0;right:0;height:40px;display:flex;flex-direction:row;text-align:center;background-color:#eee}",""]),t.exports=i},"2d77":function(t,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a={data:function(){return{oldWord:"",keyword:"",addrList:[],localAddress:"",aaBoxClass:"",searchList:"",nearList:"",lat:"",lng:"",city:"厦门"}},onLoad:function(){var t=this.app.getCity();t&&(this.city=t),this.userAddrList(),this.localAddress=this.app.getLocalAddress(),""==this.localAddress&&this.getLocation(),this.getNearList()},onShow:function(){var t=this.app.getCity();t&&(this.city=t)},methods:{gourl:function(t){uni.navigateTo({url:t})},searchShow:function(){this.aaBoxClass="flex-col"},search:function(){var t=this,i=this.app.getGps();setTimeout((function(){t.oldWord!=t.keyword&&(t.oldWord=t.keyword,t.app.get({url:t.app.apiHost+"/index.php?m=lbs&keyword="+t.keyword,data:{lat:i.lat,lng:i.lng,city:t.city},success:function(i){t.searchList=i.data}}))}),10)},userAddrList:function(){var t=this;t.app.get({url:t.app.apiHost+"/index.php?m=user_address&a=my&ajax=1",success:function(i){t.addrList=i.data.list}})},getNearList:function(){var t=this,i=this.app.getGps();t.app.get({url:t.app.apiHost+"/index.php?m=lbs&a=near",data:{lat:i.lat,lng:i.lng,city:t.city},success:function(i){t.nearList=i.data}})},setGpsLocal:function(t){this.localAddress=t.address,this.app.setLocalAddress(t.address),this.app.setGps(t.lat,t.lng),uni.reLaunch({url:"../../pages/index/index"})},setLocation:function(t){this.localAddress=t,this.app.setLocalAddress(t),uni.reLaunch({url:"../../pages/index/index"})},getLocation:function(){var t=this;uni.getLocation({type:"wgs84",success:function(i){t.lat=i.latitude,t.lng=i.longitude},fail:function(t){console.log(t)}})}}};i.default=a},"6cc7":function(t,i,s){"use strict";s.r(i);var a=s("2d77"),e=s.n(a);for(var n in a)"default"!==n&&function(t){s.d(i,t,(function(){return a[t]}))}(n);i["default"]=e.a},"75c3":function(t,i,s){"use strict";var a;s.d(i,"b",(function(){return e})),s.d(i,"c",(function(){return n})),s.d(i,"a",(function(){return a}));var e=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("v-uni-view",[s("v-uni-view",{staticClass:"flex pd-10 flex-ai-center bg-white"},[s("v-uni-view",{staticClass:"iconfont icon-location_light"}),s("v-uni-view",{staticClass:"mgr-5",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.gourl("city")}}},[t._v(t._s(t.city))]),s("v-uni-view",{staticClass:"flex-1"},[s("v-uni-view",{staticClass:"header-search-box"},[s("v-uni-view",{staticClass:"header-search-icon icon-search"}),s("v-uni-input",{staticClass:"header-search",attrs:{placeholder:"请输入收货地址",type:"search"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.searchShow.apply(void 0,arguments)},input:function(i){arguments[0]=i=t.$handleEvent(i),t.search.apply(void 0,arguments)}},model:{value:t.keyword,callback:function(i){t.keyword=i},expression:"keyword"}}),s("v-uni-view",{staticClass:"header-search-close icon-close",class:t.aaBoxClass,on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.aaBoxClass=""}}})],1)],1)],1),s("v-uni-view",{staticClass:"row-box flex flex-ai-center "},[s("v-uni-view",[t._v(t._s(t.localAddress))]),s("v-uni-view",{staticClass:"flex-1"}),s("v-uni-view",{staticClass:"flex flex-ai-center",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.getLocation.apply(void 0,arguments)}}},[s("v-uni-view",{staticClass:"iconfont icon-location_light cl-num"}),s("v-uni-view",{staticClass:"cl-num"},[t._v("重新定位")])],1)],1),s("v-uni-view",{staticClass:"row-box"},[s("v-uni-view",{staticClass:"flex flex-ai-center mgb-10"},[s("v-uni-view",{staticClass:"iconfont icon-home mgr-10"}),s("v-uni-view",[t._v("我的收货地址")])],1),s("v-uni-view",{staticClass:"pdl-20"},t._l(t.addrList,(function(i,a){return s("v-uni-view",{key:a,staticClass:"bd-mp-10",on:{click:function(s){arguments[0]=s=t.$handleEvent(s),t.setLocation(i.address)}}},[s("v-uni-view",{staticClass:"mgb-5 f14"},[t._v(t._s(i.address))]),s("v-uni-view",{staticClass:"cl2 f12"},[t._v(t._s(i.truename)+"\n\t\t\t\t\t"+t._s(i.telephone))])],1)})),1)],1),s("v-uni-view",{staticClass:"row-box",staticStyle:{"margin-top":"-20px"}},[s("v-uni-view",{staticClass:"flex flex-ai-center mgb-10"},[s("v-uni-view",{staticClass:"iconfont icon-location_light mgr-10 "}),s("v-uni-view",[t._v("附近地址")])],1),s("v-uni-view",{staticClass:"pdl-20"},t._l(t.nearList,(function(i,a){return s("v-uni-view",{key:a,staticClass:"bd-mp-10 flex",on:{click:function(s){arguments[0]=s=t.$handleEvent(s),t.setGpsLocal(i)}}},[s("v-uni-view",{staticClass:"f14 mgb-5 cl1"},[t._v(t._s(i.name))]),s("v-uni-view",{staticClass:"flex-1"}),s("v-uni-view",{staticClass:"f12 cl3"},[t._v(t._s(i.distance))])],1)})),1)],1),s("v-uni-view",{staticClass:"ffBox-row"}),s("v-uni-view",{staticClass:"ffBox flex-ai-center",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.gourl("../../pages/user_address/add")}}},[s("v-uni-view",{staticClass:"flex-1"}),s("v-uni-view",{staticClass:"iconfont icon-add_light cl-num"}),s("v-uni-view",{staticClass:"cl-num"},[t._v("新增收货地址")]),s("v-uni-view",{staticClass:"flex-1"})],1),s("v-uni-scroll-view",{staticClass:"aaBox",class:t.aaBoxClass,attrs:{"scroll-y":"true"}},t._l(t.searchList,(function(i,a){return s("v-uni-view",{key:a,staticClass:"flex bd-mp-5",on:{click:function(s){arguments[0]=s=t.$handleEvent(s),t.setGpsLocal(i)}}},[s("v-uni-view",[s("v-uni-view",{staticClass:"f14 mgb-5 cl1"},[t._v(t._s(i.name))]),s("v-uni-view",{staticClass:"f12 cl2"},[t._v(t._s(i.address))])],1),s("v-uni-view",{staticClass:"flex-1"}),s("v-uni-view",{staticClass:"f12 cl3"},[t._v(t._s(i.distance))])],1)})),1)],1)},n=[]},d069:function(t,i,s){"use strict";s.r(i);var a=s("75c3"),e=s("6cc7");for(var n in e)"default"!==n&&function(t){s.d(i,t,(function(){return e[t]}))}(n);s("fbb9");var c,o=s("f0c5"),l=Object(o["a"])(e["default"],a["b"],a["c"],!1,null,"d9252404",null,!1,a["a"],c);i["default"]=l.exports},fbb9:function(t,i,s){"use strict";var a=s("0ca2"),e=s.n(a);e.a}}]);